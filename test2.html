<!DOCTYPE html>
<html>
<head>
    <title>Automatic Percentage Bar Chart</title>
    <style>
        .bar-chart {
            width: 100%;
            height: 20px;
            background-color: #ccc;
            position: relative;
        }

        .progress {
            height: 100%;
            background-color: #007bff;
            position: absolute;
            transition: width 1s linear; /* Animation duration */
            text-align: center;
            color: white;
        }

        .item {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div id="chart-container"></div>

    <script>
        const data = [
            { label: "Item 1", percentage: 30 },
            { label: "Item 2", percentage: 40 },
            { label: "Item 3", percentage: 15 },
            { label: "Item 4", percentage: 10 },
            { label: "Item 5", percentage: 5 }
            // Add more items as needed
        ];

        const chartContainer = document.getElementById("chart-container");

        data.forEach((item) => {
            const itemContainer = document.createElement("div");
            itemContainer.classList.add("item");
            itemContainer.innerHTML = `
                <div>${item.label}</div>
                <div class="bar-chart">
                    <div class="progress" style="width: ${item.percentage}%;">${item.percentage}%</div>
                </div>
            `;
            chartContainer.appendChild(itemContainer);
        });

        // Function to animate the progress bars
        const animateBars = () => {
            const progressBars = document.querySelectorAll(".progress");
            progressBars.forEach((bar) => {
                const currentWidth = parseInt(bar.style.width) || 0;
                const targetWidth = currentWidth === 100 ? 0 : 100; // Reset at 100%
                bar.style.width = targetWidth + "%";
                bar.textContent = targetWidth + "%"; // Update the text
            });
        };

        // Start the animation
        setInterval(animateBars, 2000); // Adjust the interval as needed (2 seconds in this example)
    </script>
</body>
</html>
